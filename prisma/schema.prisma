generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id           Int          @id @default(autoincrement())
  name         String
  email        String       @unique
  avatarUrl    String?
  passwordHash String
  phoneNumber  String?
  createdAt    DateTime     @default(now())
  updatedAt    DateTime     @updatedAt
  role         String       @default("customer")
  restaurants  Restaurant[]
}

model Restaurant {
  id          Int        @id @default(autoincrement())
  name        String
  rating      Float      @default(0.0)
  cuisineType    String // e.g., "Italian", "Chinese"
  description String
  address     String
  hours       String[] // e.g., "Mon-Fri 9am-10pm"
  imageUrl    String
  viewCount   Int        @default(0)
  userId      Int
  user        User       @relation(fields: [userId], references: [id])
  menuItems   MenuItem[]
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt
}

model MenuItem {
  id           Int        @id @default(autoincrement())
  name         String
  description  String
  price        Float
  imageUrl     String?
  restaurantId Int
  restaurant   Restaurant @relation(fields: [restaurantId], references: [id])
}
